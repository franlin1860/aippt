# MCP项目测试目录

本目录包含MCP项目的所有测试文件和测试相关文档。

## 📁 目录结构

```
tests/
├── __init__.py          # Python包初始化文件
├── README.md           # 本说明文档
├── test_client.py      # 自动化回归测试脚本
└── manual_test.py      # 手动功能验证测试脚本
```

## 🧪 测试文件说明

### test_client.py - 自动化回归测试
**用途**: 全面的自动化测试，验证所有核心功能
**特点**:
- 自动化执行，无需人工干预
- 包含性能测试和并发测试
- 生成详细的测试报告
- 适合CI/CD集成

**运行方式**:
```bash
cd /path/to/mcpapp
python tests/test_client.py
```

**测试覆盖**:
- ✅ 天气查询功能 (5个测试用例)
- ✅ 计算器功能 (8个测试用例)  
- ✅ 一般对话功能 (5个测试用例)
- ✅ 错误处理机制 (6个测试用例)
- ✅ 性能和并发测试

### manual_test.py - 手动功能验证
**用途**: 详细的手动测试，深入验证各项功能
**特点**:
- 详细的测试输出和分析
- 逐项功能验证
- 性能数据统计
- 适合开发调试

**运行方式**:
```bash
cd /path/to/mcpapp
python tests/manual_test.py
```

**测试内容**:
- 🌤️ 天气查询功能详细测试
- 🧮 计算器功能详细测试
- 💬 一般对话功能测试
- 🚨 错误处理场景测试
- ⚡ 性能基准测试

## 🚀 运行测试

### 前置条件
1. 确保MCP服务器正在运行:
   ```bash
   python mcp_server.py
   ```

2. 确保环境配置正确:
   - Python 3.13.3+
   - 所有依赖已安装 (`pip install -r requirements.txt`)
   - `.env` 文件配置正确

### 快速测试
```bash
# 运行自动化测试
python tests/test_client.py

# 运行手动验证测试  
python tests/manual_test.py
```

### 测试结果
测试完成后会生成:
- 控制台输出的详细测试结果
- 测试成功率统计
- 性能数据分析
- 问题和建议

## 📊 测试指标

### 成功标准
- **功能测试**: 成功率 ≥ 90%
- **性能测试**: 平均响应时间 ≤ 10秒
- **错误处理**: 所有错误场景都有友好提示
- **并发测试**: 成功率 ≥ 95%

### 性能基准
- 天气查询: 8-12秒
- 计算器: 6-10秒
- 一般对话: 5-8秒
- 并发处理: 支持9+并发请求

## 🔧 测试维护

### 添加新测试
1. 在相应的测试文件中添加测试用例
2. 更新测试覆盖率统计
3. 更新本README文档

### 测试问题排查
1. 检查服务器是否正常运行
2. 验证网络连接和API配置
3. 查看详细的错误日志
4. 参考 `regression_test_report.md` 中的问题解决方案

## 📋 测试历史

- **v1.0** (2025-09-26): 初始测试套件创建
  - 自动化回归测试
  - 手动功能验证测试
  - 完整的测试覆盖

---
*最后更新: 2025-09-26*